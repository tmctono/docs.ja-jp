---
title: トランスポート セキュリティの概要
description: WCF システム指定のバインディングの主要なトランスポートセキュリティ機構について説明します。 これらのセキュリティメカニズムは、使用するバインディングとトランスポートによって異なります。
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 00959326-aa9d-44d0-af61-54933d4adc7f
ms.openlocfilehash: 8780b9c0fc06a49ddaf42166c292a41e9124f6e1
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/15/2020
ms.locfileid: "90556799"
---
# <a name="transport-security-overview"></a><span data-ttu-id="0c32a-104">トランスポート セキュリティの概要</span><span class="sxs-lookup"><span data-stu-id="0c32a-104">Transport Security Overview</span></span>
<span data-ttu-id="0c32a-105">Windows Communication Foundation (WCF) のトランスポートセキュリティ機構は、使用されているバインディングとトランスポートによって異なります。</span><span class="sxs-lookup"><span data-stu-id="0c32a-105">Transport security mechanisms in Windows Communication Foundation (WCF) depend on the binding and transport being used.</span></span> <span data-ttu-id="0c32a-106">たとえば、<xref:System.ServiceModel.WSHttpBinding> クラスを使用する場合、トランスポートは HTTP であり、トランスポートをセキュリティで保護するための主要機構は SSL (Secure Sockets Layer) over HTTP (一般に HTTPS と呼ばれます) です。</span><span class="sxs-lookup"><span data-stu-id="0c32a-106">For example, when using the <xref:System.ServiceModel.WSHttpBinding> class, the transport is HTTP, and the primary mechanism for securing the transport is Secure Sockets Layer (SSL) over HTTP, commonly called HTTPS.</span></span> <span data-ttu-id="0c32a-107">このトピックでは、WCF システム指定のバインディングで使用される主要なトランスポートセキュリティ機構について説明します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-107">This topic discusses the major transport security mechanisms used in the WCF system-provided bindings.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0c32a-108">.NET Framework 3.5 以降で SSL セキュリティを使用する場合、WCF クライアントは、証明書ストア内の中間証明書と SSL ネゴシエーション中に受信した中間証明書の両方を使用して、サービスの証明書に対して証明書チェーンの検証を実行します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-108">When SSL security is used with .NET Framework 3.5 and later an WCF client uses both the intermediate certificates in its certificate store and the intermediate certificates received during SSL negotiation to perform certificate chain validation on the service's certificate.</span></span> <span data-ttu-id="0c32a-109">.NET Framework 3.0 では、ローカルの証明書ストアにインストールされている中間証明書のみが使用されます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-109">.NET Framework 3.0 only uses the intermediate certificates installed in the local certificate store.</span></span>  
  
> [!WARNING]
> <span data-ttu-id="0c32a-110">トランスポート セキュリティを使用した場合、<xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> プロパティが上書きされることがあります。</span><span class="sxs-lookup"><span data-stu-id="0c32a-110">When transport security is used, the <xref:System.Threading.Thread.CurrentPrincipal%2A?displayProperty=nameWithType> property may be overwritten.</span></span> <span data-ttu-id="0c32a-111">この問題が発生しないようにするには、 <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.PrincipalPermissionMode%2A?displayProperty=nameWithType> をに設定し <xref:System.ServiceModel.Description.PrincipalPermissionMode.None?displayProperty=nameWithType> ます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-111">To prevent this from happening set the <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.PrincipalPermissionMode%2A?displayProperty=nameWithType> to <xref:System.ServiceModel.Description.PrincipalPermissionMode.None?displayProperty=nameWithType>.</span></span> <span data-ttu-id="0c32a-112"><xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> は、サービスの説明で設定できる、サービスの動作です。</span><span class="sxs-lookup"><span data-stu-id="0c32a-112"><xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> is a service behavior that can be set on the service description.</span></span>  
  
## <a name="basichttpbinding"></a><span data-ttu-id="0c32a-113">BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="0c32a-113">BasicHttpBinding</span></span>  
 <span data-ttu-id="0c32a-114">既定では、<xref:System.ServiceModel.BasicHttpBinding> クラスはセキュリティを提供しません。</span><span class="sxs-lookup"><span data-stu-id="0c32a-114">By default, the <xref:System.ServiceModel.BasicHttpBinding> class does not provide security.</span></span> <span data-ttu-id="0c32a-115">このバインディングは、セキュリティを実装していない Web サービス プロバイダーとの相互運用性のためにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-115">This binding is designed for interoperability with Web service providers that do not implement security.</span></span> <span data-ttu-id="0c32a-116">ただし、<xref:System.ServiceModel.BasicHttpSecurity.Mode%2A> プロパティを <xref:System.ServiceModel.BasicHttpSecurityMode.None> 以外の値に設定することにより、セキュリティを有効にすることができます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-116">However, you can switch on security by setting the <xref:System.ServiceModel.BasicHttpSecurity.Mode%2A> property to any value except <xref:System.ServiceModel.BasicHttpSecurityMode.None>.</span></span> <span data-ttu-id="0c32a-117">トランスポート セキュリティを有効にするには、このプロパティを <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> に設定します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-117">To enable transport security, set the property to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span>  
  
### <a name="interoperation-with-iis"></a><span data-ttu-id="0c32a-118">IIS との相互運用性</span><span class="sxs-lookup"><span data-stu-id="0c32a-118">Interoperation with IIS</span></span>  
 <span data-ttu-id="0c32a-119"><xref:System.ServiceModel.BasicHttpBinding> クラスは、主に既存の Web サービスと相互運用するために使用されます。これらのサービスの多くは、インターネット インフォメーション サービス (IIS) によってホストされます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-119">The <xref:System.ServiceModel.BasicHttpBinding> class is primarily used to interoperate with existing Web services, and many of those services are hosted by Internet Information Services (IIS).</span></span> <span data-ttu-id="0c32a-120">そのため、このバインディングのトランスポート セキュリティは、IIS サイトとシームレスに相互運用できるようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-120">Consequently, the transport security for this binding is designed for seamless interoperation with IIS sites.</span></span> <span data-ttu-id="0c32a-121">IIS サイトと相互運用するには、セキュリティ モードを <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> に設定した後、クライアント資格情報の種類を設定します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-121">This is done by setting the security mode to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> and then setting the client credential type.</span></span> <span data-ttu-id="0c32a-122">資格情報の種類の値は、IIS ディレクトリのセキュリティ機構に対応しています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-122">The credential type values correspond to IIS directory security mechanisms.</span></span> <span data-ttu-id="0c32a-123">モードを設定し、資格情報の種類を Windows に設定するコードを次に示します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-123">The following code shows the mode being set and the credential type set to Windows.</span></span> <span data-ttu-id="0c32a-124">この構成は、クライアントとサーバーが同じ Windows ドメインに存在する場合に使用できます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-124">You can use this configuration when both client and server are on the same Windows domain.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#10)]
 [!code-vb[c_ProgrammingSecurity#10](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#10)]  
  
 <span data-ttu-id="0c32a-125">または、次のように構成します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-125">Or, in configuration:</span></span>  
  
```xml  
<bindings>  
  <basicHttpBinding>  
    <binding name="SecurityByTransport">  
      <security mode="Transport">  
        <transport clientCredentialType="Windows" />  
       </security>  
     </binding>  
  </basicHttpBinding>  
</bindings>  
```  
  
 <span data-ttu-id="0c32a-126">以下のセクションでは、その他のクライアント資格情報の種類について説明します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-126">The following sections discuss other client credential types.</span></span>  
  
#### <a name="basic"></a><span data-ttu-id="0c32a-127">Basic</span><span class="sxs-lookup"><span data-stu-id="0c32a-127">Basic</span></span>  
 <span data-ttu-id="0c32a-128">これは、IIS の基本認証方法に対応しています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-128">This corresponds to the Basic authentication method in IIS.</span></span> <span data-ttu-id="0c32a-129">このモードを使用する場合は、Windows ユーザー アカウントと、適切な NTFS ファイル システムのアクセス許可を使用して IIS サーバーを構成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0c32a-129">When using this mode, the IIS server must be configured with Windows user accounts and appropriate NTFS file system permissions.</span></span> <span data-ttu-id="0c32a-130">IIS 6.0 の詳細については、「 [基本認証を有効にする」および「領域名を構成](/previous-versions/windows/it-pro/windows-server-2003/cc785293(v=ws.10))する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-130">For more information about IIS 6.0, see [Enabling Basic Authentication and Configuring the Realm Name](/previous-versions/windows/it-pro/windows-server-2003/cc785293(v=ws.10)).</span></span> <span data-ttu-id="0c32a-131">IIS 7.0 の詳細については、「 [基本認証を構成する (iis 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc772009(v=ws.10))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-131">For more information about IIS 7.0, see [Configure Basic Authentication (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc772009(v=ws.10)).</span></span>  
  
#### <a name="certificate"></a><span data-ttu-id="0c32a-132">Certificate</span><span class="sxs-lookup"><span data-stu-id="0c32a-132">Certificate</span></span>  
 <span data-ttu-id="0c32a-133">IIS には、クライアントに証明書を使用してログオンすることを要求するオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="0c32a-133">IIS has an option to require clients to log on with a certificate.</span></span> <span data-ttu-id="0c32a-134">この機能により、IIS はクライアント証明書を Windows アカウントにマップすることもできます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-134">The feature also enables IIS to map a client certificate to a Windows account.</span></span> <span data-ttu-id="0c32a-135">IIS 6.0 の詳細については、「 [iis 6.0 でクライアント証明書を有効にする](/previous-versions/windows/it-pro/windows-server-2003/cc727994(v=ws.10))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-135">For more information about IIS 6.0, see [Enabling Client Certificates in IIS 6.0](/previous-versions/windows/it-pro/windows-server-2003/cc727994(v=ws.10)).</span></span> <span data-ttu-id="0c32a-136">IIS 7.0 の詳細については、「 [iis 7 でサーバー証明書を構成する](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-136">For more information about IIS 7.0, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>  
  
#### <a name="digest"></a><span data-ttu-id="0c32a-137">ダイジェスト</span><span class="sxs-lookup"><span data-stu-id="0c32a-137">Digest</span></span>  
 <span data-ttu-id="0c32a-138">ダイジェスト認証は基本認証と似ていますが、資格情報をクリア テキストではなくハッシュとして送信できるという利点があります。</span><span class="sxs-lookup"><span data-stu-id="0c32a-138">Digest authentication is similar to Basic authentication, but offers the advantage of sending the credentials as a hash, instead of in clear text.</span></span> <span data-ttu-id="0c32a-139">IIS 6.0 の詳細については、「 [iis 6.0 でのダイジェスト認証](/previous-versions/windows/it-pro/windows-server-2003/cc782661(v=ws.10))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-139">For more information about IIS 6.0, see [Digest Authentication in IIS 6.0](/previous-versions/windows/it-pro/windows-server-2003/cc782661(v=ws.10)).</span></span> <span data-ttu-id="0c32a-140">IIS 7.0 の詳細については、「 [ダイジェスト認証を構成する (iis 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc754104(v=ws.10))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-140">For more information about IIS 7.0, see [Configure Digest Authentication (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc754104(v=ws.10)).</span></span>  
  
#### <a name="windows"></a><span data-ttu-id="0c32a-141">Windows</span><span class="sxs-lookup"><span data-stu-id="0c32a-141">Windows</span></span>  
 <span data-ttu-id="0c32a-142">これは、IIS の統合 Windows 認証に対応しています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-142">This corresponds to integrated Windows authentication in IIS.</span></span> <span data-ttu-id="0c32a-143">この値に設定する場合、サーバーは、Kerberos プロトコルを使用する Windows ドメインにドメイン コントローラーとして存在することにもなっています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-143">When set to this value, the server is also expected to exist on a Windows domain that uses the Kerberos protocol as its domain controller.</span></span> <span data-ttu-id="0c32a-144">サーバーが Kerberos ベースのドメインに存在しない場合、または Kerberos システムに障害が発生した場合は、次のセクションで説明する NTLM (NT LAN Manager) 値を使用できます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-144">If the server is not on a Kerberos-backed domain, or if the Kerberos system fails, you can use the NT LAN Manager (NTLM) value described in the next section.</span></span> <span data-ttu-id="0c32a-145">IIS 6.0 の詳細については、「 [iis 6.0 での統合 Windows 認証](/previous-versions/windows/it-pro/windows-server-2003/cc738016(v=ws.10))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-145">For more information about IIS 6.0, see [Integrated Windows Authentication in IIS 6.0](/previous-versions/windows/it-pro/windows-server-2003/cc738016(v=ws.10)).</span></span> <span data-ttu-id="0c32a-146">IIS 7.0 の詳細については、「 [iis 7 でサーバー証明書を構成する](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-146">For more information about IIS 7.0, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>
  
#### <a name="ntlm"></a><span data-ttu-id="0c32a-147">NTLM</span><span class="sxs-lookup"><span data-stu-id="0c32a-147">NTLM</span></span>  
 <span data-ttu-id="0c32a-148">この値を使用すると、Kerberos プロトコルが失敗した場合に、サーバーは、NTLM を使用して認証を実行できます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-148">This enables the server to use NTLM for authentication if the Kerberos protocol fails.</span></span> <span data-ttu-id="0c32a-149">Iis 6.0 での IIS の構成の詳細については、「 [NTLM 認証を強制](/previous-versions/windows/it-pro/windows-server-2003/cc786486(v=ws.10))する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-149">For more information about configuring IIS in IIS 6.0, see [Forcing NTLM Authentication](/previous-versions/windows/it-pro/windows-server-2003/cc786486(v=ws.10)).</span></span> <span data-ttu-id="0c32a-150">IIS 7.0 では、Windows 認証に NTLM 認証が含まれています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-150">For IIS 7.0, the Windows authentication includes NTLM authentication.</span></span> <span data-ttu-id="0c32a-151">詳細については、「 [IIS 7 でサーバー証明書を構成する](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-151">For more information, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>
  
## <a name="wshttpbinding"></a><span data-ttu-id="0c32a-152">WsHttpBinding</span><span class="sxs-lookup"><span data-stu-id="0c32a-152">WsHttpBinding</span></span>  
 <span data-ttu-id="0c32a-153"><xref:System.ServiceModel.WSHttpBinding> クラスは、WS-\* 仕様を実装するサービスと共に相互運用するようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-153">The <xref:System.ServiceModel.WSHttpBinding> class is designed for interoperation with services that implement WS-\* specifications.</span></span> <span data-ttu-id="0c32a-154">このバインディングのトランスポート セキュリティは、SSL (Secure Sockets Layer) over HTTP または HTTPS です。</span><span class="sxs-lookup"><span data-stu-id="0c32a-154">The transport security for this binding is Secure Sockets Layer (SSL) over HTTP, or HTTPS.</span></span> <span data-ttu-id="0c32a-155">SSL を使用する WCF アプリケーションを作成するには、IIS を使用してアプリケーションをホストします。</span><span class="sxs-lookup"><span data-stu-id="0c32a-155">To create an WCF application that uses SSL, use IIS to host the application.</span></span> <span data-ttu-id="0c32a-156">自己ホスト型アプリケーションを作成する場合は、HttpCfg.exe ツールを使用して、X.509 証明書をコンピューターの特定のポートにバインドします。</span><span class="sxs-lookup"><span data-stu-id="0c32a-156">Alternatively, if you are creating a self-hosted application, use the HttpCfg.exe tool to bind an X.509 certificate to a specific port on a computer.</span></span> <span data-ttu-id="0c32a-157">ポート番号は、WCF アプリケーションの一部としてエンドポイントアドレスとして指定されます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-157">The port number is specified as part of the WCF application as an endpoint address.</span></span> <span data-ttu-id="0c32a-158">トランスポート モードを使用する場合は、エンドポイント アドレスに HTTPS プロトコルを含める必要があります。そうしないと、実行時に例外が発生します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-158">When using transport mode, the endpoint address must include the HTTPS protocol or an exception will be thrown at run time.</span></span> <span data-ttu-id="0c32a-159">詳細については、「 [HTTP トランスポートセキュリティ](http-transport-security.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-159">For more information, see [HTTP Transport Security](http-transport-security.md).</span></span>  
  
 <span data-ttu-id="0c32a-160">クライアント認証の場合、<xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A> クラスの <xref:System.ServiceModel.HttpTransportSecurity> プロパティを <xref:System.ServiceModel.HttpClientCredentialType> 列挙値のいずれかに設定します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-160">For client authentication, set the <xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A> property of the <xref:System.ServiceModel.HttpTransportSecurity> class to one of the <xref:System.ServiceModel.HttpClientCredentialType> enumeration values.</span></span> <span data-ttu-id="0c32a-161">この列挙値は、<xref:System.ServiceModel.BasicHttpBinding> のクライアント資格情報の種類と同一であり、IIS サービスを使用してホストされるようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-161">The enumeration values are identical to the client credential types for <xref:System.ServiceModel.BasicHttpBinding> and are designed to be hosted with IIS services.</span></span>  
  
 <span data-ttu-id="0c32a-162">クライアント資格情報の種類が Windows の場合に使用するバインディングの例を次に示します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-162">The following example shows the binding being used with a client credential type of Windows.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#11)]
 [!code-vb[c_ProgrammingSecurity#11](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#11)]  
  
## <a name="wsdualhttpbinding"></a><span data-ttu-id="0c32a-163">WSDualHttpBinding</span><span class="sxs-lookup"><span data-stu-id="0c32a-163">WSDualHttpBinding</span></span>  
 <span data-ttu-id="0c32a-164">このバインディングが提供するのは、トランスポート レベルのセキュリティではなく、メッセージ レベルのセキュリティだけです。</span><span class="sxs-lookup"><span data-stu-id="0c32a-164">This binding provides only message-level security, not transport-level security.</span></span>  
  
## <a name="nettcpbinding"></a><span data-ttu-id="0c32a-165">NetTcpBinding</span><span class="sxs-lookup"><span data-stu-id="0c32a-165">NetTcpBinding</span></span>  
 <span data-ttu-id="0c32a-166"><xref:System.ServiceModel.NetTcpBinding> クラスは、メッセージ トランスポートに TCP を使用します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-166">The <xref:System.ServiceModel.NetTcpBinding> class uses TCP for message transport.</span></span> <span data-ttu-id="0c32a-167">トランスポート モードのセキュリティは、TLS (Transport Layer Security) over TCP を実装することによって実現されます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-167">Security for the transport mode is provided by implementing Transport Layer Security (TLS) over TCP.</span></span> <span data-ttu-id="0c32a-168">TLS 実装は、オペレーティング システムによって提供されます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-168">The TLS implementation is provided by the operating system.</span></span>  
  
 <span data-ttu-id="0c32a-169">次のコードに示すように、<xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A> クラスの <xref:System.ServiceModel.TcpTransportSecurity> プロパティを <xref:System.ServiceModel.TcpClientCredentialType> 値のいずれかに設定することで、クライアントの資格情報の種類を指定することもできます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-169">You can also specify the client's credential type by setting the <xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A> property of the <xref:System.ServiceModel.TcpTransportSecurity> class to one of the <xref:System.ServiceModel.TcpClientCredentialType> values, as shown in the following code.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#12)]
 [!code-vb[c_ProgrammingSecurity#12](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#12)]  
  
#### <a name="client"></a><span data-ttu-id="0c32a-170">クライアント</span><span class="sxs-lookup"><span data-stu-id="0c32a-170">Client</span></span>  
 <span data-ttu-id="0c32a-171">クライアントでは、<xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> クラスの <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> メソッドを使用して証明書を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0c32a-171">On the client, you must specify a certificate using the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> class.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0c32a-172">Windows セキュリティを使用している場合には、証明書は不要です。</span><span class="sxs-lookup"><span data-stu-id="0c32a-172">If you are using Windows security, a certificate is not required.</span></span>  
  
 <span data-ttu-id="0c32a-173">証明書の拇印を使用するコードを次に示します。拇印により、証明書が一意に識別されます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-173">The following code uses the thumbprint of the certificate, which uniquely identifies it.</span></span> <span data-ttu-id="0c32a-174">証明書の詳細については、「[証明書の使用](working-with-certificates.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-174">For more information about certificates, see [Working with Certificates](working-with-certificates.md).</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#13)]
 [!code-vb[c_ProgrammingSecurity#13](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#13)]  
  
 <span data-ttu-id="0c32a-175">または、[動作] セクションの要素を使用して、クライアントの構成で証明書を指定し [\<clientCredentials>](../../configure-apps/file-schema/wcf/clientcredentials.md) ます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-175">Alternatively, specify the certificate in the client's configuration using a [\<clientCredentials>](../../configure-apps/file-schema/wcf/clientcredentials.md) element in the behaviors section.</span></span>  
  
```xml  
<behaviors>  
  <behavior>  
   <clientCredentials>  
     <clientCertificate findValue= "101010101010101010101010101010000000000"
      storeLocation="LocalMachine" storeName="My"
      X509FindType="FindByThumbPrint">  
     </clientCertificate>  
   </clientCredentials>  
 </behavior>  
</behaviors>
```  
  
## <a name="netnamedpipebinding"></a><span data-ttu-id="0c32a-176">NetNamedPipeBinding</span><span class="sxs-lookup"><span data-stu-id="0c32a-176">NetNamedPipeBinding</span></span>  
 <span data-ttu-id="0c32a-177">同じネットワーク上の 2 台のコンピューター間に名前付きパイプ チャネルを作成できますが、<xref:System.ServiceModel.NetNamedPipeBinding> クラスは、コンピューター内通信 (つまり、同じコンピューター上で実行されるプロセス) を効率的に行うことができるようにデザインされています。</span><span class="sxs-lookup"><span data-stu-id="0c32a-177">The <xref:System.ServiceModel.NetNamedPipeBinding> class is designed for efficient intra-machine communication; that is, for processes running on the same computer, although named pipe channels can be created between two computers on the same network.</span></span> <span data-ttu-id="0c32a-178">このバインディングが提供するのは、トランスポート レベルのセキュリティだけです。</span><span class="sxs-lookup"><span data-stu-id="0c32a-178">This binding provides only transport-level security.</span></span> <span data-ttu-id="0c32a-179">このバインディングを使用してアプリケーションを作成する場合は、エンドポイント アドレスにプロトコルとして "net.pipe" を含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="0c32a-179">When creating applications using this binding, the endpoint addresses must include "net.pipe" as the protocol of the endpoint address.</span></span>  
  
## <a name="wsfederationhttpbinding"></a><span data-ttu-id="0c32a-180">WSFederationHttpBinding</span><span class="sxs-lookup"><span data-stu-id="0c32a-180">WSFederationHttpBinding</span></span>  
 <span data-ttu-id="0c32a-181">トランスポート セキュリティを使用する場合、このバインディングでは SSL over HTTP を使用します。SSL over HTTP は HTTPS とも呼ばれ、発行済みトークン (<xref:System.ServiceModel.WSFederationHttpSecurityMode.TransportWithMessageCredential>) を含みます。</span><span class="sxs-lookup"><span data-stu-id="0c32a-181">When using transport security, this binding uses SSL over HTTP, known as HTTPS with an issued token (<xref:System.ServiceModel.WSFederationHttpSecurityMode.TransportWithMessageCredential>).</span></span> <span data-ttu-id="0c32a-182">フェデレーションアプリケーションの詳細については、「 [フェデレーションと発行済みトークン](federation-and-issued-tokens.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-182">For more information about federation applications, see [Federation and Issued Tokens](federation-and-issued-tokens.md).</span></span>  
  
## <a name="netpeertcpbinding"></a><span data-ttu-id="0c32a-183">NetPeerTcpBinding</span><span class="sxs-lookup"><span data-stu-id="0c32a-183">NetPeerTcpBinding</span></span>  
 <span data-ttu-id="0c32a-184"><xref:System.ServiceModel.NetPeerTcpBinding> クラスは、ピアツーピア ネットワーク機能を使用して効率的に通信できるようにデザインされた、セキュリティ保護されたトランスポートです。</span><span class="sxs-lookup"><span data-stu-id="0c32a-184">The <xref:System.ServiceModel.NetPeerTcpBinding> class is a secure transport that is designed for efficient communication using the peer-to-peer networking feature.</span></span> <span data-ttu-id="0c32a-185">クラスとバインディングの名前が示すように、プロトコルは TCP です。</span><span class="sxs-lookup"><span data-stu-id="0c32a-185">As indicated by the name of the class and binding, TCP is the protocol.</span></span> <span data-ttu-id="0c32a-186">セキュリティ モードが Transport に設定されている場合、このバインディングは TLS over TCP を実装します。</span><span class="sxs-lookup"><span data-stu-id="0c32a-186">When the security mode is set to Transport, the binding implements TLS over TCP.</span></span> <span data-ttu-id="0c32a-187">ピアツーピア機能の詳細については、「 [ピアツーピアネットワーク](peer-to-peer-networking.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-187">For more information about the peer-to-peer feature, see [Peer-to-Peer Networking](peer-to-peer-networking.md).</span></span>  
  
## <a name="msmqintegrationbinding-and-netmsmqbinding"></a><span data-ttu-id="0c32a-188">MsmqIntegrationBinding と NetMsmqBinding</span><span class="sxs-lookup"><span data-stu-id="0c32a-188">MsmqIntegrationBinding and NetMsmqBinding</span></span>  
 <span data-ttu-id="0c32a-189">メッセージキュー (旧称 MSMQ) を使用したトランスポートセキュリティの詳細については、「 [トランスポートセキュリティを使用したメッセージのセキュリティ保護](securing-messages-using-transport-security.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="0c32a-189">For a complete discussion of transport security with Message Queuing (previously called MSMQ), see [Securing Messages Using Transport Security](securing-messages-using-transport-security.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0c32a-190">関連項目</span><span class="sxs-lookup"><span data-stu-id="0c32a-190">See also</span></span>

- [<span data-ttu-id="0c32a-191">WCF セキュリティのプログラミング</span><span class="sxs-lookup"><span data-stu-id="0c32a-191">Programming WCF Security</span></span>](programming-wcf-security.md)
