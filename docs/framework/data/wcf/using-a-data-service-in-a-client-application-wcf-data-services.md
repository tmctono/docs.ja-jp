---
title: クライアント アプリケーションでのデータ サービスの使用 (WCF Data Services)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, getting started
ms.assetid: 90872d0c-e989-4490-b3e9-54afb10d33d4
ms.openlocfilehash: 050c1a67a367a6dd5175c535fe89fb0010ae8cbc
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/07/2019
ms.locfileid: "70790281"
---
# <a name="using-a-data-service-in-a-client-application-wcf-data-services"></a><span data-ttu-id="f9f8a-102">クライアント アプリケーションでのデータ サービスの使用 (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="f9f8a-102">Using a Data Service in a Client Application (WCF Data Services)</span></span>
<span data-ttu-id="f9f8a-103">Web ブラウザーに URI を指定すること[!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)]によって、フィードを公開するサービスにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-103">You can access a service that exposes an [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] feed by supplying a URI to a Web browser.</span></span> <span data-ttu-id="f9f8a-104">URI はリソースのアドレスを提供し、要求メッセージがこれらのアドレスに送信されてリソースが表す基になるデータのアクセスまたは変更を行います。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-104">The URI provides the address of a resource, and request messages are sent to these addresses to access or change the underlying data that the resource represents.</span></span> <span data-ttu-id="f9f8a-105">ブラウザーは HTTP GET コマンドを発行して、要求されたリソースを [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] フィードとして返します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-105">The browser issues an HTTP GET command and returns the requested resource as an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed.</span></span> <span data-ttu-id="f9f8a-106">詳細については、「 [Web ブラウザーからサービスにアクセス](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-106">For more information, see [Accessing the Service from a Web Browser](accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span></span>  
  
 <span data-ttu-id="f9f8a-107">Web ブラウザーは [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] サービスが予期されたデータを返すかどうかをテストするために便利ですが、データの作成、更新、および削除も行うことができる運用 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] サービスは、一般的にアプリケーション コードや Web ページのスクリプト言語を使用してアクセスします。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-107">Although a Web browser may be useful for testing that an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service returns the expected data, production [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] services that enable you to also create, update, and delete data are generally accessed by application code or scripting languages in a Web page.</span></span> <span data-ttu-id="f9f8a-108">このトピックでは、クライアントアプリケーションからフィード[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]にアクセスする方法の概要について説明します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-108">This topic provides an overview of how to access [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds from a client application.</span></span>  
  
## <a name="accessing-and-changing-data-using-rest-semantics"></a><span data-ttu-id="f9f8a-109">REST セマンティクスを使用したデータのアクセスおよび変更</span><span class="sxs-lookup"><span data-stu-id="f9f8a-109">Accessing and Changing Data Using REST Semantics</span></span>  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="f9f8a-110">は、フィードを公開[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]するサービスと、フィードを使用[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]するアプリケーションの間の相互運用性を保証するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-110">helps guarantee interoperability between services that expose [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds and applications that consume [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds.</span></span> <span data-ttu-id="f9f8a-111">アプリケーションは、特定の HTTP アクション[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]の要求メッセージと、アクションを実行するエンティティリソースをアドレス指定する URI を送信することによって、ベースのサービス内のデータにアクセスして変更します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-111">Applications access and change data in an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]-based service by sending request messages of a specific HTTP action and with a URI that addresses an entity resource against which the action should be performed.</span></span> <span data-ttu-id="f9f8a-112">エンティティ データを指定する必要がある場合、メッセージの本文に、エンコードされたペイロードとして明示的に指定します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-112">When entity data must be supplied, it is supplied as a specifically encoded payload in the body of the message.</span></span>  
  
### <a name="http-actions"></a><span data-ttu-id="f9f8a-113">HTTP アクション</span><span class="sxs-lookup"><span data-stu-id="f9f8a-113">HTTP Actions</span></span>  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] <span data-ttu-id="f9f8a-114">は、アドレス指定されたリソースが表すエンティティ データに対する操作の作成、読み取り、更新、および削除を実行する次の HTTP アクションをサポートします。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-114">supports the following HTTP actions to perform create, read, update, and delete operations on the entity data that the addressed resource represents:</span></span>  
  
- <span data-ttu-id="f9f8a-115">**HTTP GET** -これは、ブラウザーからリソースにアクセスするときの既定のアクションです。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-115">**HTTP GET** - This is the default action when a resource is accessed from a browser.</span></span> <span data-ttu-id="f9f8a-116">要求メッセージではペイロードは指定されず、要求されたデータを含むペイロードを含む応答メソッドが返されます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-116">No payload is supplied in the request message, and a response method with a payload that contains the requested data is returned.</span></span>  
  
- <span data-ttu-id="f9f8a-117">**HTTP POST** -指定されたリソースに新しいエンティティデータを挿入します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-117">**HTTP POST** - Inserts new entity data into the supplied resource.</span></span> <span data-ttu-id="f9f8a-118">挿入するデータは、要求メッセージのペイロードで指定されます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-118">Data to be inserted is supplied in the payload of the request message.</span></span> <span data-ttu-id="f9f8a-119">応答メッセージのペイロードには、新しく作成されたエンティティのデータが含まれます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-119">The payload of the response message contains the data for the newly created entity.</span></span> <span data-ttu-id="f9f8a-120">これには自動生成されたキー値が含まれます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-120">This includes any autogenerated key values.</span></span> <span data-ttu-id="f9f8a-121">ヘッダーには、新しいエンティティ リソースのアドレスを指定する URI も含まれます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-121">The header also contains the URI that addresses the new entity resource.</span></span>  
  
- <span data-ttu-id="f9f8a-122">**HTTP DELETE** -指定されたリソースが表すエンティティデータを削除します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-122">**HTTP DELETE** - Deletes the entity data that the specified resource represents.</span></span> <span data-ttu-id="f9f8a-123">ペイロードは要求メッセージおよび応答メッセージ内に存在しません。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-123">A payload is not present in the request or response messages.</span></span>  
  
- <span data-ttu-id="f9f8a-124">**HTTP PUT** -要求されたリソースの既存のエンティティデータを、要求メッセージのペイロードで指定された新しいデータで置き換えます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-124">**HTTP PUT** - Replaces existing entity data at the requested resource with new data that is supplied in the payload of the request message.</span></span>  
  
- <span data-ttu-id="f9f8a-125">**HTTP マージ**-エンティティデータを変更するためだけに削除を実行した後、データソースに挿入を実行[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]すると、によって、新しい http マージアクションが導入されます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-125">**HTTP MERGE** - Because of inefficiencies in executing a delete followed by an insert in the data source just to change entity data, [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] introduces a new HTTP MERGE action.</span></span> <span data-ttu-id="f9f8a-126">要求メッセージのペイロードには、アドレス指定されたエンティティ リソースで変更する必要のあるプロパティが含まれます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-126">The payload of the request message contains the properties that must be changed on the addressed entity resource.</span></span> <span data-ttu-id="f9f8a-127">HTTP MERGE は HTTP 仕様で定義されていないので、[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] 対応のサーバー以外で HTTP MERGE 要求をルーティングするには追加の処理が必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-127">Because HTTP MERGE is not defined in the HTTP specification, it may require additional processing to route a HTTP MERGE request through non-[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] aware servers.</span></span>  
  
 <span data-ttu-id="f9f8a-128">詳細については[、「OData:操作](https://go.microsoft.com/fwlink/?LinkId=185792)。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-128">For more information, see [OData: Operations](https://go.microsoft.com/fwlink/?LinkId=185792).</span></span>  
  
### <a name="payload-formats"></a><span data-ttu-id="f9f8a-129">ペイロード形式</span><span class="sxs-lookup"><span data-stu-id="f9f8a-129">Payload Formats</span></span>  
 <span data-ttu-id="f9f8a-130">HTTP PUT、HTTP POST、または HTTP MERGE 要求の場合、要求メッセージのペイロードは、データ サービスに送信するエンティティ データを含んでいます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-130">For an HTTP PUT, HTTP POST, or HTTP MERGE request, the payload of a request message contains the entity data that you send to the data service.</span></span> <span data-ttu-id="f9f8a-131">ペイロードのコンテンツは、メッセージのデータ形式によって異なります。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-131">The contents of the payload depend on the data format of the message.</span></span> <span data-ttu-id="f9f8a-132">そのようなペイロードは、DELETE 以外のすべてのアクションに対する HTTP 応答にも含まれます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-132">The HTTP responses to all actions except DELETE also contain such a payload.</span></span> [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="f9f8a-133">では、サービスを使用してデータにアクセスして変更するための次のペイロード形式がサポートされています。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-133">supports the following payload formats for accessing and changing data with the service:</span></span>  
  
- <span data-ttu-id="f9f8a-134">**Atom** -Web フィード、ポッドキャスト、wiki、および XML ベース[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]のインターネット機能に対して HTTP 経由のデータ交換を有効にするために、によって atom Publishing Protocol (AtomPub) の拡張機能として定義される xml ベースのメッセージエンコーディング。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-134">**Atom** - An XML-based message encoding that is defined by [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] as an extension to the Atom Publishing Protocol (AtomPub) to enable data exchange over HTTP for Web feeds, podcasts, wikis, and XML-based Internet functionality.</span></span> <span data-ttu-id="f9f8a-135">詳細については[、「OData:Atom 形式](https://go.microsoft.com/fwlink/?LinkId=185794)。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-135">For more information, see [OData: Atom Format](https://go.microsoft.com/fwlink/?LinkId=185794).</span></span>  
  
- <span data-ttu-id="f9f8a-136">**Json (json** ) は、JavaScript プログラミング言語のサブセットに基づく軽量のデータ交換形式で、json (json) JavaScript Object Notation ます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-136">**JSON** - JavaScript Object Notation (JSON) is a lightweight data interchange format that is based on a subset of the JavaScript Programming Language.</span></span> <span data-ttu-id="f9f8a-137">詳細については[、「OData:JSON 形式](https://go.microsoft.com/fwlink/?LinkId=185795)。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-137">For more information, see [OData: JSON Format](https://go.microsoft.com/fwlink/?LinkId=185795).</span></span>  
  
 <span data-ttu-id="f9f8a-138">ペイロードのメッセージ形式は、HTTP 要求メッセージのヘッダーで要求されます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-138">The message format of the payload is requested in the header of the HTTP request message.</span></span> <span data-ttu-id="f9f8a-139">詳細については[、「OData:操作](https://go.microsoft.com/fwlink/?LinkID=185792)。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-139">For more information, see [OData: Operations](https://go.microsoft.com/fwlink/?LinkID=185792).</span></span>  
  
## <a name="accessing-and-changing-data-using-client-libraries"></a><span data-ttu-id="f9f8a-140">クライアント ライブラリを使用したデータのアクセスおよび変更</span><span class="sxs-lookup"><span data-stu-id="f9f8a-140">Accessing and Changing Data Using Client Libraries</span></span>  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="f9f8a-141">には、.NET Framework および Silverlight ベースのクライアントアプリケーションから[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]フィードを簡単に使用できるようにするクライアントライブラリが含まれています。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-141">includes client libraries that enable you to more easily consume an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed from .NET Framework and Silverlight-based client applications.</span></span> <span data-ttu-id="f9f8a-142">これらのライブラリは、HTTP メッセージの送受信を簡略化します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-142">These libraries simplify sending and receiving HTTP messages.</span></span> <span data-ttu-id="f9f8a-143">また、メッセージ ペイロードをエンティティ データを表す CLR オブジェクトに変換します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-143">They also translate the message payload into CLR objects that represent entity data.</span></span> <span data-ttu-id="f9f8a-144">クライアント ライブラリには、 <xref:System.Data.Services.Client.DataServiceContext> および <xref:System.Data.Services.Client.DataServiceQuery%601>という 2 つのコア クラスがあります。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-144">The client libraries feature the two core classes <xref:System.Data.Services.Client.DataServiceContext> and <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span> <span data-ttu-id="f9f8a-145">これらのクラスを使用すると、データ サービスをクエリして、返されるエンティティ データを CLR オブジェクトとして処理できます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-145">These classes enable you to query a data service and then work with the returned entity data as CLR objects.</span></span> <span data-ttu-id="f9f8a-146">詳細については、「 [WCF Data Services クライアントライブラリ](wcf-data-services-client-library.md)と[WCF Data Services (Silverlight)](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95))」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-146">For more information, see [WCF Data Services Client Library](wcf-data-services-client-library.md) and [WCF Data Services (Silverlight)](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/cc838234(v=vs.95)).</span></span>  
  
 <span data-ttu-id="f9f8a-147">Visual Studio の **[サービス参照の追加]** ダイアログボックスを使用して、データサービスへの参照を追加できます。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-147">You can use the **Add Service Reference** dialog in Visual Studio to add a reference to a data service.</span></span> <span data-ttu-id="f9f8a-148">このツールは、参照されたデータ サービスからサービス メタデータを要求し、データ サービスを表す <xref:System.Data.Services.Client.DataServiceContext> を生成します。また、エンティティを表すクライアント データ サービス クラスも生成します。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-148">This tool requests the service metadata from a referenced data service and generates the <xref:System.Data.Services.Client.DataServiceContext> that represents a data service, as well as generates the client data service classes that represent entities.</span></span> <span data-ttu-id="f9f8a-149">詳細については、「[データサービスクライアントライブラリの生成](generating-the-data-service-client-library-wcf-data-services.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-149">For more information, see [Generating the Data Service Client Library](generating-the-data-service-client-library-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="f9f8a-150">他の種類のクライアントアプリケーションで[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]フィードを利用するために使用できるプログラミングライブラリが用意されています。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-150">There are programming libraries available that you can use to consume an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed in other kinds of client applications.</span></span> <span data-ttu-id="f9f8a-151">詳細については、 [ODATA SDK](https://go.microsoft.com/fwlink/?LinkId=185796)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="f9f8a-151">For more information, see the [OData SDK](https://go.microsoft.com/fwlink/?LinkId=185796).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f9f8a-152">関連項目</span><span class="sxs-lookup"><span data-stu-id="f9f8a-152">See also</span></span>

- [<span data-ttu-id="f9f8a-153">データ サービス リソースへのアクセス</span><span class="sxs-lookup"><span data-stu-id="f9f8a-153">Accessing Data Service Resources</span></span>](accessing-data-service-resources-wcf-data-services.md)
- [<span data-ttu-id="f9f8a-154">クイック スタート</span><span class="sxs-lookup"><span data-stu-id="f9f8a-154">Quickstart</span></span>](quickstart-wcf-data-services.md)
