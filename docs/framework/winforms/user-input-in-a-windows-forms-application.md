---
title: Windows フォームアプリでのユーザー入力
titleSuffix: ''
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, user input
ms.assetid: 9d61fa96-70f7-4754-885a-49a4a6316bdb
ms.openlocfilehash: 8e82276f14519c4ef54948744c93014232bdff52
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/24/2020
ms.locfileid: "76734809"
---
# <a name="user-input-in-a-windows-forms-application"></a><span data-ttu-id="a0739-102">Windows フォーム アプリケーションにおけるユーザー入力</span><span class="sxs-lookup"><span data-stu-id="a0739-102">User Input in a Windows Forms Application</span></span>
<span data-ttu-id="a0739-103">Windows フォームでは、ユーザー入力は Windows メッセージの形式でアプリケーションに送信されます。</span><span class="sxs-lookup"><span data-stu-id="a0739-103">In Windows Forms, user input is sent to applications in the form of Windows messages.</span></span> <span data-ttu-id="a0739-104">一連のオーバーライド可能なメソッドは、これらのメッセージをアプリケーション、フォーム、および制御レベルで処理します。</span><span class="sxs-lookup"><span data-stu-id="a0739-104">A series of overridable methods process these messages at the application, form, and control level.</span></span> <span data-ttu-id="a0739-105">これらのメソッドは、マウスとキーボードのメッセージを受信すると、マウスやキーボードの入力に関する情報を取得するために処理できるイベントを発生させます。</span><span class="sxs-lookup"><span data-stu-id="a0739-105">When these methods receive mouse and keyboard messages, they raise events that can be handled to get information about the mouse or keyboard input.</span></span> <span data-ttu-id="a0739-106">多くの場合、Windows フォームアプリケーションは、これらのイベントを処理するだけで、すべてのユーザー入力を処理できます。</span><span class="sxs-lookup"><span data-stu-id="a0739-106">In many cases, Windows Forms applications will be able to process all user input simply by handling these events.</span></span> <span data-ttu-id="a0739-107">場合によっては、アプリケーション、フォーム、またはコントロールによって受信される前に特定のメッセージを傍受するために、メッセージを処理するメソッドの1つをオーバーライドすることが必要になる場合があります。</span><span class="sxs-lookup"><span data-stu-id="a0739-107">In other cases, an application may need to override one of the methods that process messages in order to intercept a particular message before it is received by the application, form, or control.</span></span>  
  
## <a name="mouse-and-keyboard-events"></a><span data-ttu-id="a0739-108">マウスとキーボードイベント</span><span class="sxs-lookup"><span data-stu-id="a0739-108">Mouse and Keyboard Events</span></span>  
 <span data-ttu-id="a0739-109">すべての Windows フォームコントロールは、マウスおよびキーボード入力に関連する一連のイベントを継承します。</span><span class="sxs-lookup"><span data-stu-id="a0739-109">All Windows Forms controls inherit a set of events related to mouse and keyboard input.</span></span> <span data-ttu-id="a0739-110">たとえば、コントロールは、押されたキーの文字コードを特定するために <xref:System.Windows.Forms.Control.KeyPress> イベントを処理したり、コントロールが <xref:System.Windows.Forms.Control.MouseClick> イベントを処理してマウスクリックの位置を判断したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="a0739-110">For example, a control can handle the <xref:System.Windows.Forms.Control.KeyPress> event to determine the character code of a key that was pressed, or a control can handle the <xref:System.Windows.Forms.Control.MouseClick> event to determine the location of a mouse click.</span></span> <span data-ttu-id="a0739-111">マウスイベントとキーボードイベントの詳細については、「 [Windows フォームでの](mouse-events-in-windows-forms.md)[キーボードイベント](using-keyboard-events.md)とマウスイベントの使用」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a0739-111">For more information on the mouse and keyboard events, see [Using Keyboard Events](using-keyboard-events.md) and [Mouse Events in Windows Forms](mouse-events-in-windows-forms.md).</span></span>  
  
## <a name="methods-that-process-user-input-messages"></a><span data-ttu-id="a0739-112">ユーザー入力メッセージを処理するメソッド</span><span class="sxs-lookup"><span data-stu-id="a0739-112">Methods that Process User Input Messages</span></span>  
 <span data-ttu-id="a0739-113">フォームとコントロールは、<xref:System.Windows.Forms.IMessageFilter> インターフェイス、およびメッセージキュー内のさまざまなポイントで Windows メッセージを処理するオーバーライド可能なメソッドのセットにアクセスできます。</span><span class="sxs-lookup"><span data-stu-id="a0739-113">Forms and controls have access to the <xref:System.Windows.Forms.IMessageFilter> interface and a set of overridable methods that process Windows messages at different points in the message queue.</span></span> <span data-ttu-id="a0739-114">これらのメソッドにはすべて、Windows メッセージの下位レベルの詳細をカプセル化する <xref:System.Windows.Forms.Message> パラメーターがあります。</span><span class="sxs-lookup"><span data-stu-id="a0739-114">These methods all have a <xref:System.Windows.Forms.Message> parameter, which encapsulates the low-level details of Windows messages.</span></span> <span data-ttu-id="a0739-115">これらのメソッドを実装またはオーバーライドしてメッセージを確認し、メッセージを使用するか、メッセージキュー内の次のコンシューマーにメッセージを渡すことができます。</span><span class="sxs-lookup"><span data-stu-id="a0739-115">You can implement or override these methods to examine the message and then either consume the message or pass it on to the next consumer in the message queue.</span></span> <span data-ttu-id="a0739-116">次の表に、Windows フォーム内のすべての Windows メッセージを処理するメソッドを示します。</span><span class="sxs-lookup"><span data-stu-id="a0739-116">The following table presents the methods that process all Windows messages in Windows Forms.</span></span>  
  
|<span data-ttu-id="a0739-117">メソッド</span><span class="sxs-lookup"><span data-stu-id="a0739-117">Method</span></span>|<span data-ttu-id="a0739-118">メモ</span><span class="sxs-lookup"><span data-stu-id="a0739-118">Notes</span></span>|  
|------------|-----------|  
|<xref:System.Windows.Forms.IMessageFilter.PreFilterMessage%2A>|<span data-ttu-id="a0739-119">このメソッドは、キューに置かれた (ポストされた) Windows メッセージをアプリケーションレベルでインターセプトします。</span><span class="sxs-lookup"><span data-stu-id="a0739-119">This method intercepts queued (also known as posted) Windows messages at the application level.</span></span>|  
|<xref:System.Windows.Forms.Control.PreProcessMessage%2A>|<span data-ttu-id="a0739-120">このメソッドは、Windows メッセージが処理される前に、フォームとコントロールレベルでインターセプトします。</span><span class="sxs-lookup"><span data-stu-id="a0739-120">This method intercepts Windows messages at the form and control level before they have been processed.</span></span>|  
|<xref:System.Windows.Forms.Control.WndProc%2A>|<span data-ttu-id="a0739-121">このメソッドは、Windows メッセージをフォームおよびコントロールレベルで処理します。</span><span class="sxs-lookup"><span data-stu-id="a0739-121">This method processes Windows messages at the form and control level.</span></span>|  
|<xref:System.Windows.Forms.Control.DefWndProc%2A>|<span data-ttu-id="a0739-122">このメソッドは、Windows メッセージの既定の処理をフォームとコントロールレベルで実行します。</span><span class="sxs-lookup"><span data-stu-id="a0739-122">This method performs the default processing of Windows messages at the form and control level.</span></span> <span data-ttu-id="a0739-123">これにより、ウィンドウの最小限の機能が提供されます。</span><span class="sxs-lookup"><span data-stu-id="a0739-123">This provides the minimal functionality of a window.</span></span>|  
|<xref:System.Windows.Forms.Control.OnNotifyMessage%2A>|<span data-ttu-id="a0739-124">このメソッドは、メッセージが処理された後に、フォームおよびコントロールレベルでメッセージをインターセプトします。</span><span class="sxs-lookup"><span data-stu-id="a0739-124">This method intercepts messages at the form and control level, after they have been processed.</span></span> <span data-ttu-id="a0739-125">このメソッドが呼び出されるようにするには、<xref:System.Windows.Forms.ControlStyles.EnableNotifyMessage> スタイルのビットを設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="a0739-125">The <xref:System.Windows.Forms.ControlStyles.EnableNotifyMessage> style bit must be set for this method to be called.</span></span>|  
  
 <span data-ttu-id="a0739-126">キーボードとマウスのメッセージは、これらの種類のメッセージに固有のオーバーライド可能なメソッドの追加のセットによっても処理されます。</span><span class="sxs-lookup"><span data-stu-id="a0739-126">Keyboard and mouse messages are also processed by an additional set of overridable methods that are specific to those types of messages.</span></span> <span data-ttu-id="a0739-127">詳細については、「[キーボード入力](how-keyboard-input-works.md)のしくみ」と「 [Windows フォームにおけるマウス入力の](how-mouse-input-works-in-windows-forms.md)しくみ」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="a0739-127">For more information, see [How Keyboard Input Works](how-keyboard-input-works.md) and [How Mouse Input Works in Windows Forms](how-mouse-input-works-in-windows-forms.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a0739-128">関連項目</span><span class="sxs-lookup"><span data-stu-id="a0739-128">See also</span></span>

- [<span data-ttu-id="a0739-129">Windows フォームでのユーザー入力</span><span class="sxs-lookup"><span data-stu-id="a0739-129">User Input in Windows Forms</span></span>](user-input-in-windows-forms.md)
- [<span data-ttu-id="a0739-130">Windows フォーム アプリケーションにおけるキーボード入力</span><span class="sxs-lookup"><span data-stu-id="a0739-130">Keyboard Input in a Windows Forms Application</span></span>](keyboard-input-in-a-windows-forms-application.md)
- [<span data-ttu-id="a0739-131">Windows フォーム アプリケーションにおけるマウス入力</span><span class="sxs-lookup"><span data-stu-id="a0739-131">Mouse Input in a Windows Forms Application</span></span>](mouse-input-in-a-windows-forms-application.md)
