---
title: データバインドの変更通知
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, data binding
- Windows Forms, adding change notification for data binding
ms.assetid: b5b10f90-0585-41d9-a377-409835262a92
ms.openlocfilehash: 2dffea46bf0db54d28ef55e507767d88bd29ebc2
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/24/2020
ms.locfileid: "76746354"
---
# <a name="change-notification-in-windows-forms-data-binding"></a><span data-ttu-id="6fc7e-102">Windows フォーム データ バインドの変更通知</span><span class="sxs-lookup"><span data-stu-id="6fc7e-102">Change Notification in Windows Forms Data Binding</span></span>
<span data-ttu-id="6fc7e-103">Windows フォームデータバインディングの最も重要な概念の1つは、*変更通知*です。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-103">One of the most important concepts of Windows Forms data binding is *change notification*.</span></span> <span data-ttu-id="6fc7e-104">データソースとバインドされたコントロールに常に最新のデータが保持されるようにするには、データバインディングの変更通知を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-104">To ensure that your data source and bound controls always have the most recent data, you must add change notification for data binding.</span></span> <span data-ttu-id="6fc7e-105">具体的には、データソースに対して行われた変更をバインドされたコントロールに通知し、コントロールのバインドされたプロパティに加えられた変更がデータソースに通知されるようにします。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-105">Specifically, you want to ensure that bound controls are notified of changes that were made to their data source, and the data source is notified of changes that were made to the bound properties of a control.</span></span>  
  
 <span data-ttu-id="6fc7e-106">変更通知には、データバインディングの種類に応じて、さまざまな種類があります。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-106">There are different kinds of change notification, depending on the kind of data binding:</span></span>  
  
- <span data-ttu-id="6fc7e-107">単純なバインド。単一のコントロールプロパティがオブジェクトの1つのインスタンスにバインドされます。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-107">Simple binding, in which a single control property is bound to a single instance of an object.</span></span>  
  
- <span data-ttu-id="6fc7e-108">リストベースのバインディング。リスト内の項目のプロパティにバインドされた単一のコントロールプロパティや、オブジェクトのリストにバインドされたコントロールプロパティを含むことができます。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-108">List-based binding, which can include a single control property bound to the property of an item in a list or a control property bound to a list of objects.</span></span>  
  
 <span data-ttu-id="6fc7e-109">また、データバインディングに使用する Windows フォームコントロールを作成する場合は、コントロールのバインドされたプロパティに対する変更がデータソースに反映されるように、 *PropertyName*Changed パターンをコントロールに適用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-109">Additionally, if you are creating Windows Forms controls that you want to use for data binding, you must apply the *PropertyName*Changed pattern to the controls, so that changes to the bound property of a control are propagated to the data source.</span></span>  
  
## <a name="change-notification-for-simple-binding"></a><span data-ttu-id="6fc7e-110">単純なバインドの変更通知</span><span class="sxs-lookup"><span data-stu-id="6fc7e-110">Change Notification for Simple Binding</span></span>  
 <span data-ttu-id="6fc7e-111">単純なバインドの場合、ビジネスオブジェクトは、バインドされたプロパティの値が変更されたときに変更通知を提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-111">For simple binding, business objects must provide change notification when the value of a bound property changes.</span></span> <span data-ttu-id="6fc7e-112">これを行うには、ビジネスオブジェクトの各プロパティに対して*PropertyName*Changed イベントを公開し、ビジネスオブジェクトを <xref:System.Windows.Forms.BindingSource> を持つコントロールにバインドします。または、ビジネスオブジェクトが <xref:System.ComponentModel.INotifyPropertyChanged> インターフェイスを実装する優先メソッドを使用して、プロパティの値が変更されたときに <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> イベントを発生させます。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-112">You can do this by exposing an *PropertyName*Changed event for each property of your business object and binding the business object to controls with the <xref:System.Windows.Forms.BindingSource> or the preferred method in which your business object implements the <xref:System.ComponentModel.INotifyPropertyChanged> interface and raises a <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> event when the value of a property changes.</span></span> <span data-ttu-id="6fc7e-113">詳細については、「[方法: INotifyPropertyChanged インターフェイスを実装](how-to-implement-the-inotifypropertychanged-interface.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-113">For more information, see [How to: Implement the INotifyPropertyChanged Interface](how-to-implement-the-inotifypropertychanged-interface.md).</span></span> <span data-ttu-id="6fc7e-114"><xref:System.ComponentModel.INotifyPropertyChanged> インターフェイスを実装するオブジェクトを使用する場合、オブジェクトをコントロールにバインドするために <xref:System.Windows.Forms.BindingSource> を使用する必要はありませんが、<xref:System.Windows.Forms.BindingSource> を使用することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-114">When you use objects that implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface, you do not have to use the <xref:System.Windows.Forms.BindingSource> to bind the object to a control, but using the <xref:System.Windows.Forms.BindingSource> is recommended.</span></span>  
  
## <a name="change-notification-for-list-based-binding"></a><span data-ttu-id="6fc7e-115">リストベースのバインドの変更通知</span><span class="sxs-lookup"><span data-stu-id="6fc7e-115">Change Notification for List-Based Binding</span></span>  
 <span data-ttu-id="6fc7e-116">Windows フォームは、バインドされたリストに依存してプロパティの変更 (リスト項目のプロパティ値の変更) を提供し、バインドされたコントロールに対して (項目が削除またはリストに追加される) リストを変更します。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-116">Windows Forms depends on a bound list to provide property change (a list item property value changes) and list changed (an item is deleted or added to the list) information to bound controls.</span></span> <span data-ttu-id="6fc7e-117">したがって、データバインディングに使用されるリストでは、<xref:System.ComponentModel.IBindingList>を実装する必要があります。これにより、両方の種類の変更通知が提供されます。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-117">Therefore, lists used for data binding must implement the <xref:System.ComponentModel.IBindingList>, which provides both types of change notification.</span></span> <span data-ttu-id="6fc7e-118"><xref:System.ComponentModel.BindingList%601> は <xref:System.ComponentModel.IBindingList> の汎用実装であり、Windows フォームデータバインディングで使用するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-118">The <xref:System.ComponentModel.BindingList%601> is a generic implementation of <xref:System.ComponentModel.IBindingList> and is designed for use with Windows Forms data binding.</span></span> <span data-ttu-id="6fc7e-119"><xref:System.ComponentModel.INotifyPropertyChanged> を実装するビジネスオブジェクトの種類を含む <xref:System.ComponentModel.BindingList%601> を作成できます。この一覧では、<xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> イベントが <xref:System.ComponentModel.IBindingList.ListChanged> イベントに自動的に変換されます。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-119">You can create a <xref:System.ComponentModel.BindingList%601> that contains a business object type that implements <xref:System.ComponentModel.INotifyPropertyChanged> and the list will automatically convert the <xref:System.ComponentModel.INotifyPropertyChanged.PropertyChanged> events to <xref:System.ComponentModel.IBindingList.ListChanged> events.</span></span> <span data-ttu-id="6fc7e-120">バインドされたリストが <xref:System.ComponentModel.IBindingList>でない場合は、<xref:System.Windows.Forms.BindingSource> コンポーネントを使用して、オブジェクトのリストを Windows フォームコントロールにバインドする必要があります。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-120">If the bound list is not an <xref:System.ComponentModel.IBindingList>, you must bind the list of objects to Windows Forms controls by using the <xref:System.Windows.Forms.BindingSource> component.</span></span> <span data-ttu-id="6fc7e-121"><xref:System.Windows.Forms.BindingSource> コンポーネントは、<xref:System.ComponentModel.BindingList%601>の場合と同様に、プロパティからリストへの変換を提供します。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-121">The <xref:System.Windows.Forms.BindingSource> component will provide property-to-list conversion similar to that of the <xref:System.ComponentModel.BindingList%601>.</span></span> <span data-ttu-id="6fc7e-122">詳細については、「[方法: BindingSource と INotifyPropertyChanged インターフェイスを使用して変更通知を発生させる](./controls/raise-change-notifications--bindingsource.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-122">For more information, see [How to: Raise Change Notifications Using a BindingSource and the INotifyPropertyChanged Interface](./controls/raise-change-notifications--bindingsource.md).</span></span>  
  
## <a name="change-notification-for-custom-controls"></a><span data-ttu-id="6fc7e-123">カスタムコントロールの通知の変更</span><span class="sxs-lookup"><span data-stu-id="6fc7e-123">Change Notification for Custom Controls</span></span>  
 <span data-ttu-id="6fc7e-124">最後に、コントロール側から、データにバインドされるように設計された各プロパティの*PropertyName*Changed イベントを公開する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-124">Finally, from the control side you must expose a *PropertyName*Changed event for each property designed to be bound to data.</span></span> <span data-ttu-id="6fc7e-125">次に、コントロールプロパティの変更が、バインドされたデータソースに反映されます。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-125">The changes to the control property are then propagated to the bound data source.</span></span> <span data-ttu-id="6fc7e-126">詳細については、「[方法: PropertyNameChanged パターンを適用する](how-to-apply-the-propertynamechanged-pattern.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="6fc7e-126">For more information, see [How to: Apply the PropertyNameChanged Pattern](how-to-apply-the-propertynamechanged-pattern.md)</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6fc7e-127">参照</span><span class="sxs-lookup"><span data-stu-id="6fc7e-127">See also</span></span>

- <xref:System.Windows.Forms.BindingSource>
- <xref:System.ComponentModel.INotifyPropertyChanged>
- <xref:System.ComponentModel.BindingList%601>
- [<span data-ttu-id="6fc7e-128">Windows フォームでのデータ バインディング</span><span class="sxs-lookup"><span data-stu-id="6fc7e-128">Windows Forms Data Binding</span></span>](windows-forms-data-binding.md)
- [<span data-ttu-id="6fc7e-129">Windows フォームがサポートするデータ ソース</span><span class="sxs-lookup"><span data-stu-id="6fc7e-129">Data Sources Supported by Windows Forms</span></span>](data-sources-supported-by-windows-forms.md)
- [<span data-ttu-id="6fc7e-130">データ連結と Windows フォーム</span><span class="sxs-lookup"><span data-stu-id="6fc7e-130">Data Binding and Windows Forms</span></span>](data-binding-and-windows-forms.md)
