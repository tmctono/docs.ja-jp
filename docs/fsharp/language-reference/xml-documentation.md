---
title: XML に関するドキュメント
description: 'コメントからドキュメントを生成するための F # のサポートについて説明します。'
ms.date: 09/15/2020
ms.openlocfilehash: a5bec20f27c23caee951cda2dc5d17808f69d384
ms.sourcegitcommit: aa6d8a90a4f5d8fe0f6e967980b8c98433f05a44
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/16/2020
ms.locfileid: "90679404"
---
# <a name="document-your-code-with-xml-comments"></a>XML コメントを含むコードの文書化

F # では、トリプルスラッシュ (///) コードコメントからドキュメントを生成できます。 XML コメントは、コードファイル (fs) ファイルまたは署名 (fsi.exe) ファイルの宣言の前に記述できます。

XML 文書化コメントは、ユーザー定義型またはユーザー定義メンバーの定義の上に追加する特殊なコメントです。
このコメントが特殊な理由は、コンパイル時にコンパイラで処理して、XML 文書化ファイルを生成できることです。
コンパイラによって生成された XML ファイルは、.NET アセンブリと共に配布できます。これにより、Ide では、ツールヒントを使用して型またはメンバーに関する簡単な情報を表示できます。 また、XML ファイルは、 [fsdocs](http://fsprojects.github.io/FSharp.Formatting/) などのツールを使用して実行し、API 参照 web サイトを生成することもできます。

他のすべてのコメントと同様に、XML ドキュメントのコメントはコンパイラによって無視されます。ただし、以下で説明するオプションを使用して、コンパイル時にコメントの有効性と完全性をチェックすることはできません。

コンパイル時に XML ファイルを生成するには、次のいずれかを実行します。

- `GenerateDocumentationFile`プロジェクトファイルのセクションに要素を追加できます `<PropertyGroup>` `.fsproj` 。これにより、アセンブリと同じルートファイル名を持つ XML ファイルがプロジェクトディレクトリに生成されます。 次に例を示します。

   ```xml
   <GenerateDocumentationFile>true</GenerateDocumentationFile>
   ```

- Visual Studio を使用してアプリケーションを開発する場合は、プロジェクトを右クリックして、 **[プロパティ]** を選択します。 プロパティ ダイアログ ボックスで、 **[ビルド]** タブをクリックし、 **[XML ドキュメント ファイル]** をオンにします。 コンパイラがファイルを書き込む場所を変更することもできます。

XML ドキュメントコメントを記述するには、XML タグの有無にかかわらず、2つの方法があります。 どちらも、3つのスラッシュを使用します。

## <a name="comments-without-xml-tags"></a>XML タグのないコメント

コメントが `///` で始まらない場合、 `<` コメントテキスト全体が、直後に続くコードコンストラクターの概要ドキュメントとして取得されます。 各コンストラクトの概要のみを記述する場合は、このメソッドを使用します。

コメントはドキュメントの準備中に XML にエンコードされます。そのため、などの文字を `<` `>` `&` エスケープする必要はありません。 概要タグを明示的に指定しない場合は、 **param** や returns タグなど、他の **タグを** 指定しないでください。

次の例は、XML タグのない代替メソッドを示しています。 この例では、コメント内のテキスト全体が概要と見なされます。

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-2/snippet7102.fs)]

## <a name="comments-with-xml-tags"></a>XML タグの付いたコメント

コメントの本文が (通常は) で始まる場合、 `<` `<summary>` xml タグを使用する xml 形式のコメント本文として扱われます。 この2番目の方法では、簡単な概要、追加の解説、各パラメーターのドキュメント、スローされる例外の種類、および戻り値の説明を個別に指定できます。

次に、シグネチャファイル内の一般的な XML ドキュメントコメントを示します。

[!code-fsharp[Main](~/samples/snippets/fsharp/lang-ref-2/snippet7101.fs)]

## <a name="recommended-tags"></a>推奨されるタグ

XML タグを使用する場合、F # の XML コードコメントで認識される外側のタグについて、次の表で説明します。

| タグ構文                                  | [説明] |
|---------------------------------------------|-----------|
| `<summary>`**_本文_**`</summary>`           | *テキスト*がプログラム要素の簡単な説明であることを指定します。 説明は、通常、1つまたは2つの文です。|
| `<remarks>`**_本文_**`</remarks>`           | *Text*に program 要素に関する補足情報が含まれていることを指定します。|
| `<param name="`**_名前_** `">`**_説明_**`</param>` | 関数またはメソッドのパラメーターの名前と説明を指定します。|
| `<typeparam name="`**_名前_** `">`**_説明_**`</typeparam>` | 型パラメーターの名前と説明を指定します。|
| `<returns>`**_本文_**`</returns>`           | 関数またはメソッドの戻り値を *テキスト* に記述するように指定します。|
| `<exception cref="`**_型_** `">`**_説明_**`</exception>` |生成できる例外の種類と、その例外がスローされる状況を指定します。|
| `<seealso cref="`**_「_**`"/>`      | 別の種類のドキュメントへのリンクも参照してください。 *参照*は、XML ドキュメントファイルに表示される名前です。 ドキュメントページの下部には、通常、リンクも表示されます。|

次の表では、説明セクション内で使用するタグについて説明します。

| タグ構文                                | [説明] |
|-------------------------------------------|-------------|
| `<para>`**_本文_**`</para>`               | テキストの段落を指定します。 これは、 **コメント** タグ内のテキストを区切るために使用されます。|
| `<code>`**_本文_**`</code>`               | *テキスト*が複数行のコードであることを指定します。 このタグは、ドキュメントジェネレーターがコードに適したフォントでテキストを表示するために使用できます。|
| `<paramref name="`**_指定_**`"/>`         | 同じドキュメントコメント内のパラメーターへの参照を指定します。|
| `<typeparamref name="`**_指定_**`"/>`     | 同じドキュメントコメント内の型パラメーターへの参照を指定します。|
| `<c>`**_本文_**`</c>`                     | *テキスト*がインラインコードであることを指定します。 このタグは、ドキュメントジェネレーターがコードに適したフォントでテキストを表示するために使用できます。|
| `<see cref="`**_参照_** `">`**_テキスト_**`</see>` | 別のプログラム要素へのインラインリンクを指定します。 *参照*は、XML ドキュメントファイルに表示される名前です。 *テキスト*は、リンクに表示されるテキストです。|

### <a name="user-defined-tags"></a>ユーザー定義タグ

前のタグは、F # コンパイラおよび一般的な F # エディターツールによって認識されるタグを表します。 ただし、ユーザー独自のタグも自由に定義できます。
Fsdocs などのツールでは、のような余分なタグがサポート対象と [\<namespacedoc>](https://github.com/fsharp/fslang-design/blob/master/tooling/FST-1031-xmldoc-extensions.md) なります。
カスタムまたは社内ドキュメント生成ツールを標準タグと共に使用して、HTML から PDF への複数の出力形式をサポートできます。

## <a name="compile-time-checking"></a>コンパイル時のチェック

が有効になっている場合 `--warnon:3390` 、コンパイラは、XML の構文と、タグとタグで参照されるパラメーターを検証し `<param>` `<paramref>` ます。

## <a name="documenting-f-constructs"></a>F # コンストラクトの文書化

モジュール、メンバー、共用体ケース、レコードフィールドなどの F # コンストラクトは、宣言の直前にコメントによって文書化され `///` ます。
必要に応じて、 `///` 引数リストの前にコメントを付けることによって、クラスの暗黙的なコンストラクターを記述します。 次に例を示します。

```fsharp
/// This is the type
type SomeType
      /// This is the implicit constructor
      (a: int, b: int) =

    /// This is the member
    member _.Sum() = a + b
```

## <a name="limitations"></a>制限事項

C# およびその他の .NET 言語の XML ドキュメントの一部の機能は、c# ではサポートされていません。

- F # では、相互参照では、対応するシンボルの完全な XML シグネチャ (たとえば) を使用する必要があり `cref="T:System.Console"` ます。
  などの単純な C# スタイルの相互参照 `cref="Console"` は、完全な XML シグネチャには対応していません。これらの要素は、F # コンパイラによってチェックされません。 一部のドキュメントツールでは、後続の処理でこれらの相互参照を使用できますが、完全なシグネチャを使用する必要があります。
  
- タグは `<include>` 、 `<inheritdoc>` F # コンパイラではサポートされていません。 これらが使用されている場合、エラーは発生しませんが、生成されたドキュメントに影響を与えることなく、単に生成されたドキュメントファイルにコピーされます。

- が使用されている場合でも、相互参照は F # コンパイラによってチェックされません `-warnon:3390` 。

- タグとで使用される名前は、 `<typeparam>` が使用されている `<typeparamref>` 場合でも、F # コンパイラによってチェックされません `--warnon:3390` 。

- が使用されている場合でも、ドキュメントが見つからない場合、警告は与えられません `--warnon:3390` 。

## <a name="recommendations"></a>推奨事項

コードを文書化することをお勧めするのには、さまざまな理由があります。 ここでは、F # コードで XML ドキュメントタグを使用するときに理解しておく必要があるベストプラクティス、一般的なユースケースシナリオ、および重要事項について説明します。

- `--warnon:3390`Xml ドキュメントが有効な xml であることを確認するために、コードでオプションを有効にします。

- 実装から長い XML ドキュメントコメントを分離するために、署名ファイルを追加することを検討してください。

- 整合性を保つため、一般に公開されているすべての型とそのメンバーを文書化する必要があります。 必要な文書化はすべて実行してください。

- 最小限のモジュール、型、およびそれらのメンバーは、通常の `///` コメントまたはタグを持つ必要があり `<summary>` ます。 これは、F # 編集ツールのオートコンプリートツールヒントウィンドウに表示されます。

- 文書化のテキストは、句点で終わる完全な文を使用して作成する必要があります。

## <a name="see-also"></a>関連項目

- [C# XML ドキュメントコメント &#40;C&#35; プログラミングガイド&#41;](../../csharp/programming-guide/xmldoc/index.md)を参照してください。
- [F# 言語リファレンス](index.md)
- [コンパイラ オプション](compiler-options.md)
